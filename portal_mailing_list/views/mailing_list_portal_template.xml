<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="assets_frontend" inherit_id="website.assets_frontend">
        <xpath expr="script[last()]" position="after">
            <script type="text/javascript" src="/portal_mailing_list/static/src/js/website_mail_list_unsubscribe_form.js"/>
        </xpath>
    </template>

    <template id="portal_mailing_list_template" name="Portal Mailing Lists">
        <t t-call="website.layout">
            <!--            <style>-->
            <!--                .switch {-->
            <!--                position: relative;-->
            <!--                display: inline-block;-->
            <!--                width: 60px;-->
            <!--                height: 34px;-->
            <!--                }-->

            <!--                .switch input {-->
            <!--                opacity: 0;-->
            <!--                width: 0;-->
            <!--                height: 0;-->
            <!--                }-->

            <!--                .slider {-->
            <!--                position: absolute;-->
            <!--                cursor: pointer;-->
            <!--                top: 0;-->
            <!--                left: 0;-->
            <!--                right: 0;-->
            <!--                bottom: 0;-->
            <!--                background-color: #ccc;-->
            <!--                -webkit-transition: .4s;-->
            <!--                transition: .4s;-->
            <!--                }-->

            <!--                .slider:before {-->
            <!--                position: absolute;-->
            <!--                content: "";-->
            <!--                height: 26px;-->
            <!--                width: 26px;-->
            <!--                left: 4px;-->
            <!--                bottom: 4px;-->
            <!--                background-color: white;-->
            <!--                -webkit-transition: .4s;-->
            <!--                transition: .4s;-->
            <!--                }-->

            <!--                input:checked + .slider {-->
            <!--                background-color: #2196F3;-->
            <!--                }-->

            <!--                input:focus + .slider {-->
            <!--                box-shadow: 0 0 1px #2196F3;-->
            <!--                }-->

            <!--                input:checked + .slider:before {-->
            <!--                -webkit-transform: translateX(26px);-->
            <!--                -ms-transform: translateX(26px);-->
            <!--                transform: translateX(26px);-->
            <!--                }-->

            <!--                /* Rounded sliders */-->
            <!--                .slider.round {-->
            <!--                border-radius: 34px;-->
            <!--                }-->

            <!--                .slider.round:before {-->
            <!--                border-radius: 50%;-->
            <!--                }-->
            <!--                .o-form-control {-->
            <!--                display: block;-->
            <!--                width: 100%;-->
            <!--                height: calc(1.5em + 0.75rem + 2px);-->
            <!--                padding: 0.375rem 0.75rem;-->
            <!--                font-size: 1rem;-->
            <!--                font-weight: 400;-->
            <!--                line-height: 1.5;-->
            <!--                color: #495057;-->
            <!--                background-color: #FFFFFF;-->
            <!--                background-clip: padding-box;-->
            <!--                border-radius: 0.25rem;-->
            <!--                transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;-->
            <!--                }-->

            <!--            </style>-->

            <t t-set="additional_title">Subscribe/UnSubscribe Mailing Lists</t>
            <div id="wrap" class="oe_structure oe_empt">
                <div class="container">
                    <div class="row">
                        <section id="mail_list_forms">
                            <form style="width:589px;" action="/update/mailing_list" method="POST" class="s_website_form container-fluid mt32 position-relative" enctype="multipart/form-data">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                <input type="hidden" name="record_id" t-att-value="mailing_contact.id"/>
                                <div class="form-group row form-field">
                                    <div class="col-lg-3 col-md-4">
                                        <label class="col-form-label" for="mailing_contact.subscription_list_ids">Mailing Lists</label>
                                    </div>
                                    <div class="col-lg-4 col-md-4">
                                    </div>
                                    <div class="col-lg-3 col-md-4">
                                        <label class="col-form-label" for="mailing_contact.subscription_list_ids">UnSubscribe</label>
                                    </div>
                                </div>
                                <t t-foreach="mailing_contact.subscription_list_ids" t-as="list_rec">
                                    <div class="form-group row form-field o_website_form_required">
                                        <div class="col-lg-7 col-md-8">
                                            <span t-field="list_rec.list_id.name" class="o-form-control"/>
                                        </div>
                                        <div class="col-lg-3 col-md-4">
                                            <input type="checkbox" t-att-checked="list_rec.opt_out" class="form-control o_website_form_input" t-att-name="list_rec.id"/>
                                            <!--                                            <span class="slider round"/>-->
                                        </div>
                                    </div>
                                </t>
                                <div class="form-group row form-field">
                                    <div class="col-lg-3 col-md-4">
                                        <a href="#" class="select_all_list btn bg-green text-700 py-0 px-2" role="button" aria-label="Select All the filters" style="color: white !important;background: green;">
                                            <i class="fa fa-check"/>
                                            Select all
                                        </a>
                                    </div>
                                    <div class="col-lg-3 col-md-4">
                                        <a href="#" class="unselect_all_list btn bg-red text-700 py-0 px-2" aria-label="Unchecked the filters" style="border: 1px solid;">
                                            <i class="fa fa-times"/>
                                            Unselect all
                                        </a>
                                    </div>
                                </div>
                                <div class="form-group row ">
                                    <div class="col-lg-10 col-md-5 text-right">
                                        <button type="submit" class="btn btn-primary btn-lg mx-auto">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </section>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="mailing_list_unsubscribe_submitted" name="">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure oe_empty">
                <div class="container">
                    <div clas="row">
                        <t t-if="request.session.get('form_builder_model_model', '') == 'approval.request'">
                            <t t-set="approval_request_id" t-value="request.website._website_form_last_record().sudo()"/>
                        </t>
                        <h1 class="text-center"><i class="fa fa-check-circle fa-2x text-success" role="img" aria-label="Success" title="Success"/></h1>
                        <t t-if="approval_request_id">
                            <h1 class="text-center">Your Approval Request Number is <a t-if="request.session.uid" t-attf-href="/approval/request/#{approval_request_id.id}">#<span t-field="approval_request_id.id"/></a><t t-if="not request.session.get('uid')">#<span t-field="approval_request_id.id"/></t>.</h1>
                        </t>
                        <h1 class="text-center">Thank you for submitting your Request!</h1>
                    </div>
                </div>
            </div>
        </t>
    </template>

</odoo>